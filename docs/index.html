<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Apizr | Apizr </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Apizr | Apizr ">
    <meta name="generator" content="docfx 2.59.0.0">
    
    <link rel="shortcut icon" href="resources/favicon.ico">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="resources/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="apizr">Apizr</h1>

<p>Refit based web api client management, but resilient (retry, connectivity, cache, auth, log, priority, etc...)</p>
<p><a href="articles/index.html">Read the doc</a></p>
<h2 id="history">History</h2>
<p>The Apizr project was motivated by this <a href="https://github.com/RobGibbens/ResilientServices/blob/master/post/post.md">2015 famous blog post</a> about resilient networking.</p>
<p>Its main focus was to address at least everything explained into this article, meanning:</p>
<ul>
<li>Easy access to restful services</li>
<li>Work offline with cache management</li>
<li>Handle errors with retry pattern and global catching</li>
<li>Handle request priority</li>
<li>Check connectivity</li>
<li>Fast development time</li>
<li>Easy maintenance</li>
<li>Reuse existing libraries</li>
</ul>
<p>But also, some more core features like:</p>
<ul>
<li>Trace http traffic</li>
<li>Handle authentication</li>
</ul>
<p>And more integration/extension independent optional features like:</p>
<ul>
<li>Choose cache, log and connectivity providers</li>
<li>Register it as an MS DI extension</li>
<li>Integrate with Shiny</li>
<li>Map model with DTO</li>
<li>Use Mediator pattern</li>
<li>Use Optional pattern</li>
</ul>
<p>The list is not exhaustive, there’s more, but what we wanted was playing with all of it with as less code as we could, not worrying about plumbing things and being sure everything is wired and handled by design or almost.</p>
<p>Inspired by <a href="https://github.com/thefex/Refit.Insane.PowerPack">Refit.Insane.PowerPack</a>, we wanted to make it simple to use, mixing attribute decorations and fluent configuration.</p>
<p>Also, we built this lib to make it work with any .Net Standard 2.0 compliant platform, so we could use it seamlessly from any kind of app, with or without DI goodness.</p>
<h2 id="libraries">Libraries</h2>
<p><a href="changelog.html">Change Log - Mar 12, 2021 (with v4 changes)</a></p>
<table>
<thead>
<tr>
<th>Project</th>
<th>Current</th>
<th>V-Next</th>
</tr>
</thead>
<tbody>
<tr>
<td>Apizr</td>
<td><a href="https://www.nuget.org/packages/Apizr/"><img src="https://img.shields.io/nuget/v/Apizr.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr/"><img src="https://img.shields.io/nuget/vpre/Apizr.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Extensions.Microsoft.DependencyInjection</td>
<td><a href="https://www.nuget.org/packages/Apizr.Extensions.Microsoft.DependencyInjection/"><img src="https://img.shields.io/nuget/v/Apizr.Extensions.Microsoft.DependencyInjection.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Extensions.Microsoft.DependencyInjection/"><img src="https://img.shields.io/nuget/vpre/Apizr.Extensions.Microsoft.DependencyInjection.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Extensions.Microsoft.Caching</td>
<td><a href="https://www.nuget.org/packages/Apizr.Extensions.Microsoft.Caching/"><img src="https://img.shields.io/nuget/v/Apizr.Extensions.Microsoft.Caching.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Extensions.Microsoft.Caching/"><img src="https://img.shields.io/nuget/vpre/Apizr.Extensions.Microsoft.Caching.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Integrations.Akavache</td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.Akavache/"><img src="https://img.shields.io/nuget/v/Apizr.Integrations.Akavache.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.Akavache/"><img src="https://img.shields.io/nuget/vpre/Apizr.Integrations.Akavache.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Integrations.MonkeyCache</td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.MonkeyCache/"><img src="https://img.shields.io/nuget/v/Apizr.Integrations.MonkeyCache.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.MonkeyCache/"><img src="https://img.shields.io/nuget/vpre/Apizr.Integrations.MonkeyCache.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Integrations.Fusillade</td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.Fusillade/"><img src="https://img.shields.io/nuget/v/Apizr.Integrations.Fusillade.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.Fusillade/"><img src="https://img.shields.io/nuget/vpre/Apizr.Integrations.Fusillade.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Integrations.MediatR</td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.MediatR/"><img src="https://img.shields.io/nuget/v/Apizr.Integrations.MediatR.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.MediatR/"><img src="https://img.shields.io/nuget/vpre/Apizr.Integrations.MediatR.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Integrations.Optional</td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.Optional/"><img src="https://img.shields.io/nuget/v/Apizr.Integrations.Optional.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.Optional/"><img src="https://img.shields.io/nuget/vpre/Apizr.Integrations.Optional.svg" alt="NuGet Pre Release"></a></td>
</tr>
<tr>
<td>Apizr.Integrations.AutoMapper</td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.AutoMapper/"><img src="https://img.shields.io/nuget/v/Apizr.Integrations.AutoMapper.svg" alt="NuGet"></a></td>
<td><a href="https://www.nuget.org/packages/Apizr.Integrations.AutoMapper/"><img src="https://img.shields.io/nuget/vpre/Apizr.Integrations.AutoMapper.svg" alt="NuGet Pre Release"></a></td>
</tr>
</tbody>
</table>
<p>Install the NuGet package of your choice:</p>
<ul>
<li><strong>Apizr</strong> package comes with the For and CrudFor static instantiation approach (which you can register in your DI container then)</li>
<li><strong>Apizr.Extensions.Microsoft.DependencyInjection</strong> package extends your IServiceCollection with AddApizr, AddApizrFor and AddApizrCrudFor registration methods</li>
<li><strong>Apizr.Extensions.Microsoft.Caching</strong> package brings an ICacheHandler method mapping implementation for <a href="https://www.nuget.org/packages/Microsoft.Extensions.Caching.Abstractions">MS Extensions Caching</a></li>
<li><strong>Apizr.Integrations.Akavache</strong> package brings an ICacheHandler method mapping implementation for <a href="https://github.com/reactiveui/Akavache">Akavache</a></li>
<li><strong>Apizr.Integrations.MonkeyCache</strong> package brings an ICacheHandler method mapping implementation for <a href="https://github.com/jamesmontemagno/monkey-cache">MonkeyCache</a></li>
<li><strong>Apizr.Integrations.Fusillade</strong> package enables request priority management using <a href="https://github.com/reactiveui/Fusillade">Fusillade</a></li>
<li><strong>Apizr.Integrations.MediatR</strong> package enables request auto handling with mediation using <a href="https://github.com/jbogard/MediatR">MediatR</a></li>
<li><strong>Apizr.Integrations.Optional</strong> package enables Optional result from mediation requests (requires MediatR integration) using <a href="https://github.com/dnikolovv/optional-async">Optional.Async</a></li>
<li><strong>Apizr.Integrations.AutoMapper</strong> package enables auto mapping for mediation requests (requires MediatR integration and could work with Optional integration) using <a href="https://github.com/AutoMapper/AutoMapper">AutoMapper</a></li>
</ul>
<p>Apizr core package make use of well known nuget packages to make the magic appear:</p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/reactiveui/refit">Refit</a></td>
<td>Auto-implement web api interface and deal with HttpClient</td>
</tr>
<tr>
<td><a href="https://github.com/App-vNext/Polly">Polly</a></td>
<td>Apply some policies like Retry, CircuitBreaker, etc...</td>
</tr>
<tr>
<td><a href="https://github.com/BSiLabs/HttpTracer">Microsoft.Extensions.Logging.Abstractions</a></td>
<td>Delegate logging layer to MS Extensions Logging</td>
</tr>
</tbody>
</table>
<p>It also comes with some handling interfaces to let you provide your own services for:</p>
<ul>
<li><strong>Caching</strong> with ICacheHandler, which comes with its default VoidCacheHandler (no cache), but also with:<ul>
<li>InMemoryCacheHandler &amp; DistributedCacheHandler: <a href="https://www.nuget.org/packages/Microsoft.Extensions.Caching.Abstractions">MS Extensions Caching</a> methods mapping interface (Integration package referenced above), meaning you can provide any compatible caching engine</li>
<li>AkavacheCacheHandler: <a href="https://github.com/reactiveui/Akavache">Akavache</a> methods mapping interface (Integration package referenced above)</li>
<li>MonkeyCacheHandler: <a href="https://github.com/jamesmontemagno/monkey-cache">MonkeyCache</a> methods mapping interface (Integration package referenced above)</li>
</ul>
</li>
<li><strong>Logging</strong> As Apizr relies on official <a href="https://www.nuget.org/packages/Microsoft.Extensions.Logging.Abstractions">MS ILogger interface</a>, you may want to provide any compatible logging engine (built-in DebugLogger activated by default)</li>
<li><strong>Connectivity</strong> with IConnectivityHandler, which comes with its default VoidConnectivityHandler (no connectivity check)</li>
<li><strong>Mapping</strong> with IMappingHandler, which comes with its default VoidMappingHandler (no mapping conversion), but also with:<ul>
<li>AutoMapperMappingHandler: <a href="https://github.com/AutoMapper/AutoMapper">AutoMapper</a> mapping methods mapping interface (Integration package referenced above)</li>
</ul>
</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Supported by Respawnsive
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
